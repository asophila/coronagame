pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
function _init()
 --agente jugador
 agent={x=64,
        y=64,
        sprt=16}
 dx=1
 dy=1
end


function _update() 
 move_agent()
end


function _draw()
 cls(4)
 gen_map() --genera el mapa
	draw_agent() --dibuja el agente
end

function draw_agent()
	spr(agent.sprt,agent.x,agent.y)
end

function move_agent()
 chk=agent.x+(agent.y*128)
 if btn(2) then agent.y-=dy end
 if btn(3) then agent.y+=dy end
 if btn(0) then agent.x-=dx end
 if btn(1) then agent.x+=dx end
 if agent.sprt<19 and
    chk!=agent.x+(agent.y*128) 
    then
  			agent.sprt+=1
 			else agent.sprt=16
 end
end

function gen_map()
 --mapa de 9x9
 for room=1,9 do
  draw_room(room)
 end
end

function draw_room(room)
 room-=1
 ancho=10
 r_x=flr(room/3)+1
 r_y=flr(room%3)+1
 
 rect(5+ancho*r_x,5+ancho*r_y,5+ancho*(r_x+1),5+ancho*(r_y+1),2) 
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000770000007700000077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00777700007777000077770000777700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00777700007777000077770000777700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70777707707777077077770770777707000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77777777777777777777777777777777000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00f00f0000f00f0000f00f0000f00f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00f00f000ff00f000ff00ff000f00ff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0ff00ff000000ff0000000000ff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00555500005555000055550000555500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00555500005555000055550000555500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
55555555555555555555555555555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00f00f0000f00f0000f00f0000f00f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00f00f000ff00f000ff00ff000f00ff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0ff00ff000000ff0000000000ff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
